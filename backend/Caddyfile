# Configuration simple pour FrankenPHP avec Symfony
:80 {
	# Racine du projet Symfony
	root * /app/public

	# Activation de la compression
	encode zstd br gzip

	# En-têtes CORS pour le développement
	header {
		Access-Control-Allow-Origin "*"
		Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS, PATCH"
		Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept, Authorization"
		X-Frame-Options "SAMEORIGIN"
		X-Content-Type-Options "nosniff"
	}

	# Gestion des requêtes OPTIONS (preflight CORS)
	@options method OPTIONS
	respond @options 204

	# Configuration PHP avec FrankenPHP
	php_server

	# Logs pour le développement
	log {
		output stdout
		format console
		level INFO
	}
}